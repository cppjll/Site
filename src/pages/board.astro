---
import Layout from "../layouts/Layout.astro";
import BoardMemberCardDetailed from "../components/BoardMemberCardDetailed.astro";
import { getCollection } from "astro:content";
const boardMembers = await getCollection("board");
---

<Layout title="Board - CPP Japanese Language Learners">
  <div class="flex flex-col px-4 mx-6 md:max-w-4xl md:mx-auto">
    <div class="breadcrumbs my-4">
      <ul>
        <li><a href="/">Home</a></li>
        <li>Board</li>
      </ul>
    </div>
    <!-- Current Board -->
    <h1 class="text-5xl font-bold mb-4 font-display">Board</h1>
    <div class="grid md:grid-cols-2 gap-4">
      {
        boardMembers
          .sort((a, b) => {
            if (a.data.position === "President") return -1;
            if (b.data.position === "President") return 1;
            if (a.data.position === "Vice-President") return -1;
            if (b.data.position === "Vice-President") return 1;
            return 0;
          })
          .filter((boardMember) => !boardMember.data.retired)
          .map((boardMember) => (
            <BoardMemberCardDetailed member={boardMember} />
          ))
      }
    </div>
    <!-- Past Board -->
    <h1 class="text-5xl font-bold mb-4 my-4 font-display">Past Board</h1>
    <div class="grid md:grid-cols-2 gap-4">
      {
        boardMembers
          .sort((a, b) => {
            if (a.data.position === "President") return -1;
            if (b.data.position === "President") return 1;
            if (a.data.position === "Vice-President") return -1;
            if (b.data.position === "Vice-President") return 1;
            return 0;
          })
          .filter((boardMember) => boardMember.data.retired)
          .map((boardMember) => (
            <BoardMemberCardDetailed member={boardMember} />
          ))
      }
    </div>
  </div>
</Layout>
