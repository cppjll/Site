---
import Layout from "../layouts/Layout.astro";
import { Image } from 'astro:assets';
import logo from '../images/bun.png';
import squiggly from '../images/squiggly.svg';
import BoardMemberCard from "../components/BoardMemberCard";
import EventCard from "../components/EventCard.astro";
import { getCollection } from "astro:content";
import { slide } from "astro:transitions";

const upcomingEvents = await getCollection("events", ({ data }) => {
    const eventDate = new Date(data.date);
    const today = new Date();
    return eventDate >= today;
});
---

<Layout title="CPP Japanese Language Learners">
    <!-- Top section -->
    <div class="h-[70vh] w-screen mb-7 bg-secondary flex justify-center items-center">  
        <div transition:animate={slide ({ duration: '0.3s' })} class="text-center">
            <Image src={logo} alt="logo" class="w-36 mx-auto mb-2" />
            <h1 class="text-4xl font-bold text-accent mb-4 mx-4">CPP Japanese Language Learners</h1>
        </div>
    </div>
    <!-- End top section -->
    <!-- Content -->
    <div transition:animate={slide ({ duration: '0.5s' })} class="flex flex-col">
        <!-- About -->
        <div class="flex flex-col mb-10 mx-6">
            <h1 class="text-5xl font-bold text-accent mb-4 font-display">About</h1>
            <div class="flex flex-col">
                <p class="text-xl text-accent mb-4">The Cal Poly Pomona Japanese Language Learning Club (CPP JLL) is a community dedicated to exploring Japanese language and culture in a variety of ways, whether it be through assisting beginners, housing reading and viewing groups, hosting workshops, or meeting and socializing with fellow learners.</p>
                <p class="text-xl text-accent mb-4">We are open to all skill-levels. Please feel free to join our community on our Japanese-learning journey! Check out our <span class="text-indigo-500 hover:underline"><a href="https://discord.com/invite/W5kxJtE3a7">Discord</a></span> server to learn more!</p>
            </div>
        </div>
        <!-- End About -->
        
        <!-- Squiggly -->
        <div class="flex flex-col mb-6">
            <img src={squiggly.src} alt="squiggly" class="w-full mb-2" />
        </div>
        <!-- End Squiggly -->
        <!-- Events -->
        <div class="flex flex-col mb-6 mx-6">
            <h1 class="text-5xl font-bold text-accent mb-4 font-display">Current Event</h1>
                <EventCard event={upcomingEvents[0]} />
            <a href='/events' class="btn btn-accent btn-outline w-full mb-4">See All Events</a>
        </div>
        <!-- End Events -->
        
        <!-- Board -->
        <div class="flex flex-col mb-6 mx-6">
            <!-- Make this look more clickable? -->
            <a href="/board"><h1 class="text-5xl font-bold text-accent mb-4 font-display">Board</h1></a>
            <div class="flex flex-col">
                
            </div>
        </div>
    </div>
    
</Layout>